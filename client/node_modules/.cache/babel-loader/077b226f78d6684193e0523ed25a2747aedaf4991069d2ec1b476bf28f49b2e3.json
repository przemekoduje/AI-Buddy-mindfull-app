{"ast":null,"code":"var _jsxFileName = \"/Users/przemyslawrakotny/Documents/przemokoduje/full_projects/ai-buddy-mindfull-app/client/src/screens/PerspectiveShiftScreen.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport './PerspectiveShiftScreen.scss';\nimport ShatterAnimation from '../components/ShatterAnimation';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PerspectiveShiftScreen = () => {\n  _s();\n  const [step, setStep] = useState('inputNegative');\n  const [negativeThought, setNegativeThought] = useState('');\n  const [positiveThought, setPositiveThought] = useState('');\n  const [reframingQuestion, setReframingQuestion] = useState('');\n  const [input, setInput] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const handleNegativeSubmit = async e => {\n    e.preventDefault();\n    if (!input.trim()) return;\n    setIsLoading(true);\n    setNegativeThought(input);\n    try {\n      const response = await fetch('http://localhost:5001/api/get-reframing-question', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          thought: input\n        })\n      });\n      const data = await response.json();\n      setReframingQuestion(data.question);\n      setInput('');\n      setStep('inputPositive');\n    } catch (error) {\n      console.error(\"Błąd serwera:\", error);\n      setReframingQuestion(\"Jak inaczej można spojrzeć na tę sytuację?\");\n      setInput('');\n      setStep('inputPositive');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handlePositiveSubmit = e => {\n    e.preventDefault();\n    setPositiveThought(input);\n    setStep('animating');\n  };\n  if (step === 'animating') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"perspective-screen\",\n      children: [/*#__PURE__*/_jsxDEV(ShatterAnimation, {\n        text: negativeThought\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"positive-thought-reveal\",\n        children: positiveThought\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"perspective-screen\",\n    children: step === 'inputNegative' ? /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleNegativeSubmit,\n      className: \"thought-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Jaka my\\u015Bl Ci teraz ci\\u0105\\u017Cy?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: input,\n        onChange: e => setInput(e.target.value),\n        autoFocus: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: isLoading || !input.trim(),\n        children: isLoading ? 'Analizuję...' : 'Dalej'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"glass-sphere\",\n        children: negativeThought\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handlePositiveSubmit,\n        className: \"thought-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: reframingQuestion\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: input,\n          onChange: e => setInput(e.target.value),\n          autoFocus: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: !input.trim(),\n          children: \"Przeformu\\u0142uj\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(PerspectiveShiftScreen, \"F7Bgfg2gP4uqQA5JCUoxdQZQ4HU=\");\n_c = PerspectiveShiftScreen;\nexport default PerspectiveShiftScreen;\nvar _c;\n$RefreshReg$(_c, \"PerspectiveShiftScreen\");","map":{"version":3,"names":["React","useState","ShatterAnimation","jsxDEV","_jsxDEV","Fragment","_Fragment","PerspectiveShiftScreen","_s","step","setStep","negativeThought","setNegativeThought","positiveThought","setPositiveThought","reframingQuestion","setReframingQuestion","input","setInput","isLoading","setIsLoading","handleNegativeSubmit","e","preventDefault","trim","response","fetch","method","headers","body","JSON","stringify","thought","data","json","question","error","console","handlePositiveSubmit","className","children","text","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","value","onChange","target","autoFocus","type","disabled","_c","$RefreshReg$"],"sources":["/Users/przemyslawrakotny/Documents/przemokoduje/full_projects/ai-buddy-mindfull-app/client/src/screens/PerspectiveShiftScreen.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './PerspectiveShiftScreen.scss';\nimport ShatterAnimation from '../components/ShatterAnimation';\n\nconst PerspectiveShiftScreen = () => {\n  const [step, setStep] = useState('inputNegative');\n  const [negativeThought, setNegativeThought] = useState('');\n  const [positiveThought, setPositiveThought] = useState('');\n  const [reframingQuestion, setReframingQuestion] = useState('');\n  const [input, setInput] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleNegativeSubmit = async (e) => {\n    e.preventDefault();\n    if (!input.trim()) return;\n    setIsLoading(true);\n    setNegativeThought(input);\n\n    try {\n      const response = await fetch('http://localhost:5001/api/get-reframing-question', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ thought: input }),\n      });\n      const data = await response.json();\n      setReframingQuestion(data.question);\n      setInput('');\n      setStep('inputPositive');\n    } catch (error) {\n      console.error(\"Błąd serwera:\", error);\n      setReframingQuestion(\"Jak inaczej można spojrzeć na tę sytuację?\");\n      setInput('');\n      setStep('inputPositive');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handlePositiveSubmit = (e) => {\n    e.preventDefault();\n    setPositiveThought(input);\n    setStep('animating');\n  };\n\n  if (step === 'animating') {\n    return (\n      <div className=\"perspective-screen\">\n        <ShatterAnimation text={negativeThought} />\n        <div className=\"positive-thought-reveal\">{positiveThought}</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"perspective-screen\">\n      {step === 'inputNegative' ? (\n        <form onSubmit={handleNegativeSubmit} className=\"thought-form\">\n          <label>Jaka myśl Ci teraz ciąży?</label>\n          <textarea value={input} onChange={(e) => setInput(e.target.value)} autoFocus />\n          <button type=\"submit\" disabled={isLoading || !input.trim()}>\n            {isLoading ? 'Analizuję...' : 'Dalej'}\n          </button>\n        </form>\n      ) : (\n        <>\n          <div className=\"glass-sphere\">{negativeThought}</div>\n          <form onSubmit={handlePositiveSubmit} className=\"thought-form\">\n            <label>{reframingQuestion}</label>\n            <textarea value={input} onChange={(e) => setInput(e.target.value)} autoFocus />\n            <button type=\"submit\" disabled={!input.trim()}>Przeformułuj</button>\n          </form>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default PerspectiveShiftScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}